# Generated by Django 6.0.2 on 2026-02-12 22:17

import datetime
import django.core.validators
import django.db.models.deletion
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='City',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True, verbose_name='Nom de la ville')),
                ('region', models.CharField(choices=[('north', 'R√©gion Nord'), ('central', 'R√©gion Centrale'), ('south', 'R√©gion Sud'), ('coast', 'R√©gion C√¥ti√®re')], default='central', max_length=20, verbose_name='R√©gion')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='Num√©ro de t√©l√©phone')),
                ('map_x', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Position X sur la carte (%)')),
                ('map_y', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Position Y sur la carte (%)')),
                ('is_headquarters', models.BooleanField(default=False, verbose_name='Si√®ge social')),
                ('address', models.TextField(blank=True, verbose_name='Adresse compl√®te')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
            ],
            options={
                'verbose_name': 'Ville',
                'verbose_name_plural': 'Villes',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='ClickEvent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('element_type', models.CharField(max_length=50, verbose_name="Type d'√©l√©ment")),
                ('element_text', models.CharField(blank=True, max_length=200, verbose_name="Texte de l'√©l√©ment")),
                ('element_id', models.CharField(blank=True, max_length=100, verbose_name="ID de l'√©l√©ment")),
                ('url', models.CharField(max_length=500, verbose_name='URL de la page')),
                ('session_id', models.CharField(max_length=100, verbose_name='ID de session')),
                ('ip_address', models.GenericIPAddressField(verbose_name='Adresse IP')),
                ('city', models.CharField(blank=True, max_length=100, verbose_name='Ville')),
                ('timestamp', models.DateTimeField(auto_now_add=True, verbose_name='Horodatage')),
            ],
            options={
                'verbose_name': '√âv√©nement de clic',
                'verbose_name_plural': '√âv√©nements de clic',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='CompanyBankAccount',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('company_name', models.CharField(default='Prolean CENTRE', max_length=200, verbose_name='Nom de la soci√©t√©')),
                ('bank_name', models.CharField(default='Attijariwafa Bank', max_length=200, verbose_name='Nom de la banque')),
                ('account_holder', models.CharField(default='Prolean CENTRE', max_length=200, verbose_name='Titulaire du compte')),
                ('rib', models.CharField(max_length=50, verbose_name="RIB (Relev√© d'Identit√© Bancaire)")),
                ('iban', models.CharField(blank=True, max_length=50, verbose_name='IBAN')),
                ('swift_bic', models.CharField(blank=True, max_length=20, verbose_name='Code SWIFT/BIC')),
                ('branch_name', models.CharField(blank=True, max_length=200, verbose_name="Nom de l'agence")),
                ('branch_code', models.CharField(blank=True, max_length=20, verbose_name='Code agence')),
                ('account_number', models.CharField(blank=True, max_length=50, verbose_name='Num√©ro de compte')),
                ('confirmation_email', models.EmailField(default='contact@Proleancentre.ma', max_length=254, verbose_name='Email de confirmation')),
                ('whatsapp_number', models.CharField(default='+212779259942', max_length=20, verbose_name='Num√©ro WhatsApp')),
                ('is_active', models.BooleanField(default=True, verbose_name='Compte actif')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de cr√©ation')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Derni√®re mise √† jour')),
            ],
            options={
                'verbose_name': "Compte bancaire d'entreprise",
                'verbose_name_plural': "Comptes bancaires d'entreprise",
                'ordering': ['-is_active', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CurrencyRate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('currency_code', models.CharField(max_length=3, unique=True, verbose_name='Code devise')),
                ('currency_name', models.CharField(default='', max_length=50, verbose_name='Nom de la devise')),
                ('country', models.CharField(default='', max_length=100, verbose_name='Pays')),
                ('flag', models.CharField(default='üè≥Ô∏è', max_length=10, verbose_name='Drapeau')),
                ('rate_to_mad', models.DecimalField(decimal_places=6, default=Decimal('1.000000'), max_digits=10, verbose_name='Taux de change vers MAD')),
                ('last_updated', models.DateTimeField(auto_now=True, verbose_name='Derni√®re mise √† jour')),
            ],
            options={
                'verbose_name': 'Taux de change',
                'verbose_name_plural': 'Taux de change',
                'ordering': ['currency_code'],
            },
        ),
        migrations.CreateModel(
            name='DailyStat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(unique=True, verbose_name='Date')),
                ('total_visitors', models.IntegerField(default=0, verbose_name='Visiteurs totaux')),
                ('total_pageviews', models.IntegerField(default=0, verbose_name='Pages vues totales')),
                ('total_form_submissions', models.IntegerField(default=0, verbose_name='Soumissions de formulaire')),
                ('total_phone_calls', models.IntegerField(default=0, verbose_name='Appels t√©l√©phoniques')),
                ('total_whatsapp_clicks', models.IntegerField(default=0, verbose_name='Clics WhatsApp')),
                ('avg_session_duration', models.IntegerField(default=0, verbose_name='Dur√©e moyenne de session (s)')),
                ('top_city', models.CharField(blank=True, max_length=100, verbose_name='Ville principale')),
                ('top_training', models.CharField(blank=True, max_length=200, verbose_name='Formation la plus vue')),
            ],
            options={
                'verbose_name': 'Statistique quotidienne',
                'verbose_name_plural': 'Statistiques quotidiennes',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='FormSubmission',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('form_type', models.CharField(max_length=50, verbose_name='Type de formulaire')),
                ('training_title', models.CharField(blank=True, max_length=200, verbose_name='Formation concern√©e')),
                ('session_id', models.CharField(max_length=100, verbose_name='ID de session')),
                ('ip_address', models.GenericIPAddressField(verbose_name='Adresse IP')),
                ('city', models.CharField(blank=True, max_length=100, verbose_name='Ville')),
                ('country', models.CharField(blank=True, max_length=100, verbose_name='Pays')),
                ('time_spent', models.IntegerField(default=0, verbose_name='Temps pass√© sur le formulaire (secondes)')),
                ('timestamp', models.DateTimeField(auto_now_add=True, verbose_name='Horodatage')),
            ],
            options={
                'verbose_name': 'Soumission de formulaire',
                'verbose_name_plural': 'Soumissions de formulaire',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='Live',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(blank=True, max_length=200)),
                ('agora_channel', models.CharField(max_length=200)),
                ('is_active', models.BooleanField(default=True)),
                ('started_at', models.DateTimeField(auto_now_add=True)),
                ('ended_at', models.DateTimeField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='PhoneCall',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('phone_number', models.CharField(max_length=20, verbose_name='Num√©ro appel√©')),
                ('caller_city', models.CharField(blank=True, max_length=100, verbose_name="Ville de l'appelant")),
                ('caller_country', models.CharField(blank=True, max_length=100, verbose_name="Pays de l'appelant")),
                ('url', models.CharField(blank=True, max_length=500, verbose_name='URL source')),
                ('session_id', models.CharField(max_length=100, verbose_name='ID de session')),
                ('ip_address', models.GenericIPAddressField(verbose_name='Adresse IP')),
                ('timestamp', models.DateTimeField(auto_now_add=True, verbose_name='Horodatage')),
            ],
            options={
                'verbose_name': 'Appel t√©l√©phonique',
                'verbose_name_plural': 'Appels t√©l√©phoniques',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='RecordedVideo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='Titre de la vid√©o')),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('video_provider', models.CharField(choices=[('VDOCIPHER', 'VdoCipher'), ('VIMEO', 'Vimeo'), ('YOUTUBE', 'YouTube'), ('OTHER', 'Autre')], default='VDOCIPHER', max_length=50, verbose_name='Fournisseur vid√©o')),
                ('video_id', models.CharField(blank=True, max_length=200, null=True, verbose_name='ID Vid√©o (aupr√®s du fournisseur)')),
                ('duration_seconds', models.IntegerField(default=0, verbose_name='Dur√©e (secondes)')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='ThreatIP',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ip_address', models.GenericIPAddressField(unique=True, verbose_name='Adresse IP')),
                ('reason', models.CharField(max_length=200, verbose_name='Raison')),
                ('threat_level', models.CharField(choices=[('low', 'Faible'), ('medium', 'Moyenne'), ('high', 'Haute')], default='medium', max_length=20, verbose_name='Niveau de menace')),
                ('request_count', models.PositiveIntegerField(default=1, verbose_name='Nombre de requ√™tes')),
                ('first_detected', models.DateTimeField(auto_now_add=True, verbose_name='Premi√®re d√©tection')),
                ('last_detected', models.DateTimeField(auto_now=True, verbose_name='Derni√®re d√©tection')),
                ('is_blocked', models.BooleanField(default=False, verbose_name='Bloqu√©')),
            ],
            options={
                'verbose_name': 'IP Mena√ßante',
                'verbose_name_plural': 'IPs Mena√ßantes',
                'ordering': ['-last_detected'],
            },
        ),
        migrations.CreateModel(
            name='VisitorSession',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('session_id', models.CharField(max_length=100, unique=True, verbose_name='ID de session')),
                ('ip_address', models.GenericIPAddressField(verbose_name='Adresse IP')),
                ('user_agent', models.TextField(verbose_name='User Agent')),
                ('city', models.CharField(blank=True, max_length=100, verbose_name='Ville')),
                ('country', models.CharField(blank=True, max_length=100, verbose_name='Pays')),
                ('device_type', models.CharField(blank=True, max_length=50, verbose_name="Type d'appareil")),
                ('browser', models.CharField(blank=True, max_length=100, verbose_name='Navigateur')),
                ('os', models.CharField(blank=True, max_length=100, verbose_name="Syst√®me d'exploitation")),
                ('referrer', models.CharField(blank=True, max_length=500, verbose_name='Referrer')),
                ('landing_page', models.CharField(max_length=500, verbose_name="Page d'arriv√©e")),
                ('start_time', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Heure de d√©but')),
                ('last_activity', models.DateTimeField(auto_now=True, verbose_name='Derni√®re activit√©')),
                ('page_views', models.IntegerField(default=1, verbose_name='Nombre de pages vues')),
                ('session_duration', models.IntegerField(default=0, verbose_name='Dur√©e de session (secondes)')),
            ],
            options={
                'verbose_name': 'Session visiteur',
                'verbose_name_plural': 'Sessions visiteurs',
                'ordering': ['-start_time'],
            },
        ),
        migrations.CreateModel(
            name='WhatsAppClick',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('phone_number', models.CharField(max_length=20, verbose_name='Num√©ro WhatsApp')),
                ('message_prefill', models.TextField(blank=True, verbose_name='Message pr√©-rempli')),
                ('url', models.CharField(blank=True, max_length=500, verbose_name='URL source')),
                ('session_id', models.CharField(max_length=100, verbose_name='ID de session')),
                ('ip_address', models.GenericIPAddressField(verbose_name='Adresse IP')),
                ('city', models.CharField(blank=True, max_length=100, verbose_name='Ville')),
                ('timestamp', models.DateTimeField(auto_now_add=True, verbose_name='Horodatage')),
            ],
            options={
                'verbose_name': 'Clic WhatsApp',
                'verbose_name_plural': 'Clics WhatsApp',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='PageView',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('url', models.CharField(max_length=500, verbose_name='URL visit√©e')),
                ('page_title', models.CharField(blank=True, max_length=200, verbose_name='Titre de la page')),
                ('referrer', models.CharField(blank=True, max_length=500, verbose_name='Referrer')),
                ('session_id', models.CharField(max_length=100, verbose_name='ID de session')),
                ('ip_address', models.GenericIPAddressField(verbose_name='Adresse IP')),
                ('user_agent', models.TextField(verbose_name='User Agent')),
                ('city', models.CharField(blank=True, max_length=100, verbose_name='Ville d√©tect√©e')),
                ('country', models.CharField(blank=True, max_length=100, verbose_name='Pays d√©tect√©')),
                ('device_type', models.CharField(blank=True, max_length=50, verbose_name="Type d'appareil")),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Horodatage')),
            ],
            options={
                'verbose_name': 'Vue de page',
                'verbose_name_plural': 'Vues de page',
                'ordering': ['-timestamp'],
                'indexes': [models.Index(fields=['session_id', 'timestamp'], name='Prolean_pag_session_62c142_idx'), models.Index(fields=['city', 'timestamp'], name='Prolean_pag_city_2e51a8_idx'), models.Index(fields=['url', 'timestamp'], name='Prolean_pag_url_6a6f48_idx')],
            },
        ),
        migrations.CreateModel(
            name='Profile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('STUDENT', '√âtudiant'), ('PROFESSOR', 'Professeur'), ('ASSISTANT', 'Assistant administratif'), ('ADMIN', 'Administrateur')], default='STUDENT', max_length=20)),
                ('full_name', models.CharField(max_length=200, verbose_name='Nom complet')),
                ('cin_or_passport', models.CharField(blank=True, max_length=50, null=True, unique=True, verbose_name='CIN ou Passeport')),
                ('phone_number', models.CharField(max_length=50, unique=True, verbose_name='T√©l√©phone')),
                ('status', models.CharField(choices=[('PENDING', 'En attente'), ('ACTIVE', 'Actif'), ('SUSPENDED', 'Suspendu')], default='PENDING', max_length=20)),
                ('email_verified', models.BooleanField(default=False, verbose_name='Email v√©rifi√©')),
                ('profile_picture', models.URLField(blank=True, default='', max_length=500, verbose_name='Photo de profil')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('city', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Prolean.city', verbose_name='Ville')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='profile', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ProfessorProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('active', models.BooleanField(default=True, verbose_name='Actif')),
                ('specialization', models.CharField(blank=True, max_length=200, verbose_name='Sp√©cialisation')),
                ('bio', models.TextField(blank=True, verbose_name='Biographie')),
                ('profile', models.OneToOneField(limit_choices_to={'role': 'PROFESSOR'}, on_delete=django.db.models.deletion.CASCADE, related_name='professor_profile', to='Prolean.profile')),
            ],
        ),
        migrations.CreateModel(
            name='AssistantProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notes', models.TextField(blank=True, verbose_name='Notes administratives')),
                ('assigned_cities', models.ManyToManyField(blank=True, related_name='assistants', to='Prolean.city', verbose_name='Villes assign√©es')),
                ('profile', models.OneToOneField(limit_choices_to={'role': 'ASSISTANT'}, on_delete=django.db.models.deletion.CASCADE, related_name='assistant_profile', to='Prolean.profile')),
            ],
        ),
        migrations.CreateModel(
            name='RateLimitLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ip_address', models.GenericIPAddressField(verbose_name='Adresse IP')),
                ('endpoint', models.CharField(max_length=200, verbose_name='Endpoint')),
                ('request_count', models.PositiveIntegerField(default=1, verbose_name='Nombre de requ√™tes')),
                ('period_minutes', models.PositiveIntegerField(default=1, verbose_name='P√©riode (minutes)')),
                ('first_request', models.DateTimeField(auto_now_add=True, verbose_name='Premi√®re requ√™te')),
                ('last_request', models.DateTimeField(auto_now=True, verbose_name='Derni√®re requ√™te')),
                ('is_threat', models.BooleanField(default=False, verbose_name='Menace')),
            ],
            options={
                'verbose_name': 'Log de Limite de Taux',
                'verbose_name_plural': 'Logs de Limite de Taux',
                'ordering': ['-last_request'],
                'indexes': [models.Index(fields=['ip_address', 'endpoint'], name='Prolean_rat_ip_addr_20a99e_idx'), models.Index(fields=['is_threat', 'last_request'], name='Prolean_rat_is_thre_d693a5_idx')],
            },
        ),
        migrations.CreateModel(
            name='Session',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_date', models.DateField(default=datetime.datetime.now, verbose_name='Date de d√©but')),
                ('end_date', models.DateField(default=datetime.datetime.now, verbose_name='Date de fin')),
                ('status', models.CharField(choices=[('CREATED', 'Cr√©√©e'), ('ONGOING', 'En cours'), ('COMPLETED', 'Termin√©e')], default='CREATED', max_length=20, verbose_name='Statut')),
                ('is_live', models.BooleanField(default=False, verbose_name='Est en direct (Live)')),
                ('is_active', models.BooleanField(default=True, verbose_name='Session active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('city', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Prolean.city', verbose_name='Ville de la session')),
                ('professor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='sessions', to='Prolean.professorprofile')),
            ],
            options={
                'verbose_name': 'Session',
                'verbose_name_plural': 'Sessions',
                'ordering': ['-start_date'],
            },
        ),
        migrations.CreateModel(
            name='Seance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='Titre de la s√©ance')),
                ('type', models.CharField(choices=[('THEORIQUE', 'Th√©orique'), ('PRATIQUE', 'Pratique')], default='THEORIQUE', max_length=20, verbose_name='Type')),
                ('date', models.DateField(verbose_name='Date')),
                ('time', models.TimeField(verbose_name='Heure')),
                ('location', models.CharField(blank=True, max_length=200, verbose_name='Lieu/Salle')),
                ('session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='seances', to='Prolean.session', verbose_name='Session')),
            ],
            options={
                'verbose_name': 'S√©ance',
                'verbose_name_plural': 'S√©ances',
                'ordering': ['date', 'time'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='Titre')),
                ('message', models.TextField(verbose_name='Message')),
                ('notification_type', models.CharField(choices=[('info', 'Information'), ('success', 'Succ√®s'), ('warning', 'Avertissement'), ('error', 'Erreur')], default='info', max_length=20, verbose_name='Type')),
                ('link', models.CharField(blank=True, max_length=500, verbose_name='Lien')),
                ('is_read', models.BooleanField(default=False, verbose_name='Lu')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to=settings.AUTH_USER_MODEL)),
                ('session', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='notifications', to='Prolean.session')),
            ],
            options={
                'verbose_name': 'Notification',
                'verbose_name_plural': 'Notifications',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='LiveRecording',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('video_provider_id', models.CharField(blank=True, max_length=200, verbose_name='ID Recording Provider')),
                ('recording_url', models.URLField(blank=True, max_length=500, verbose_name="URL de l'enregistrement")),
                ('duration_seconds', models.IntegerField(default=0, verbose_name='Dur√©e (secondes)')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('live_stream', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='recording', to='Prolean.live')),
                ('session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recordings', to='Prolean.session')),
            ],
        ),
        migrations.AddField(
            model_name='live',
            name='session',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lives', to='Prolean.session'),
        ),
        migrations.CreateModel(
            name='AttendanceLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('join_time', models.DateTimeField()),
                ('leave_time', models.DateTimeField(blank=True, null=True)),
                ('duration_seconds', models.IntegerField(default=0)),
                ('is_muted', models.BooleanField(default=False)),
                ('live_stream', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='attendance_logs', to='Prolean.live')),
                ('student', models.ForeignKey(limit_choices_to={'role': 'STUDENT'}, on_delete=django.db.models.deletion.CASCADE, related_name='attendance_logs', to='Prolean.profile')),
                ('session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendance_logs', to='Prolean.session')),
            ],
        ),
        migrations.CreateModel(
            name='StudentProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount_paid', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10, verbose_name='Montant pay√©')),
                ('total_amount_due', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10, verbose_name='Montant total d√ª')),
                ('profile', models.OneToOneField(limit_choices_to={'role': 'STUDENT'}, on_delete=django.db.models.deletion.CASCADE, related_name='student_profile', to='Prolean.profile')),
                ('session', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='students', to='Prolean.session', verbose_name='Session active')),
            ],
        ),
        migrations.CreateModel(
            name='Question',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField()),
                ('answer_content', models.TextField(blank=True, verbose_name='R√©ponse')),
                ('is_answered', models.BooleanField(default=False, verbose_name='R√©pondu')),
                ('is_deleted', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('answered_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='answered_questions', to='Prolean.professorprofile')),
                ('video', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='questions', to='Prolean.recordedvideo')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='questions', to='Prolean.studentprofile')),
            ],
        ),
        migrations.CreateModel(
            name='Training',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(db_index=True, max_length=200, verbose_name='Titre FR')),
                ('slug', models.SlugField(max_length=200, unique=True, verbose_name='Slug FR')),
                ('short_description', models.TextField(max_length=300, verbose_name='Description courte FR')),
                ('detailed_description', models.TextField(verbose_name='Description d√©taill√©e FR')),
                ('objectives', models.TextField(blank=True, default='', verbose_name='Objectifs FR')),
                ('title_ar', models.CharField(blank=True, max_length=200, verbose_name='Titre AR')),
                ('slug_ar', models.SlugField(blank=True, max_length=200, verbose_name='Slug AR')),
                ('short_description_ar', models.TextField(blank=True, max_length=300, verbose_name='Description courte AR')),
                ('detailed_description_ar', models.TextField(blank=True, verbose_name='Description d√©taill√©e AR')),
                ('objectives_ar', models.TextField(blank=True, default='', verbose_name='Objectifs AR')),
                ('title_en', models.CharField(blank=True, max_length=200, verbose_name='Titre EN')),
                ('slug_en', models.SlugField(blank=True, max_length=200, verbose_name='Slug EN')),
                ('short_description_en', models.TextField(blank=True, max_length=300, verbose_name='Description courte EN')),
                ('detailed_description_en', models.TextField(blank=True, verbose_name='Description d√©taill√©e EN')),
                ('objectives_en', models.TextField(blank=True, default='', verbose_name='Objectifs EN')),
                ('price_mad', models.DecimalField(db_index=True, decimal_places=2, max_digits=10, verbose_name='Prix en MAD')),
                ('duration_days', models.PositiveIntegerField(verbose_name='Dur√©e en jours')),
                ('max_students', models.PositiveIntegerField(default=20, verbose_name="Nombre maximum d'√©tudiants")),
                ('programme_structure', models.JSONField(blank=True, default=dict, help_text='Structure JSON du programme th√©orique et pratique FR', verbose_name='Structure du programme FR')),
                ('programme_theorique', models.TextField(blank=True, default='', verbose_name='Programme th√©orique FR')),
                ('programme_pratique', models.TextField(blank=True, default='', verbose_name='Programme pratique FR')),
                ('programme_structure_ar', models.JSONField(blank=True, default=dict, help_text='Structure JSON du programme th√©orique et pratique AR', verbose_name='Structure du programme AR')),
                ('programme_theorique_ar', models.TextField(blank=True, default='', verbose_name='Programme th√©orique AR')),
                ('programme_pratique_ar', models.TextField(blank=True, default='', verbose_name='Programme pratique AR')),
                ('programme_structure_en', models.JSONField(blank=True, default=dict, help_text='Structure JSON du programme th√©orique et pratique EN', verbose_name='Structure du programme EN')),
                ('programme_theorique_en', models.TextField(blank=True, default='', verbose_name='Programme th√©orique EN')),
                ('programme_pratique_en', models.TextField(blank=True, default='', verbose_name='Programme pratique EN')),
                ('success_rate', models.PositiveIntegerField(default=95, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Taux de r√©ussite (%)')),
                ('badge', models.CharField(choices=[('none', 'Aucun badge'), ('popular', 'üî• Populaire'), ('new', 'üÜï Nouvelle'), ('promo', '‚ö° Promotion')], default='none', max_length=20, verbose_name='Badge')),
                ('is_featured', models.BooleanField(db_index=True, default=False, verbose_name='Formation en vedette')),
                ('is_active', models.BooleanField(db_index=True, default=True, verbose_name='Active')),
                ('thumbnail', models.URLField(blank=True, max_length=500, null=True, verbose_name='URL de la miniature')),
                ('programme_pdf_url', models.URLField(blank=True, max_length=500, null=True, verbose_name='URL du programme PDF')),
                ('gallery_image_1', models.URLField(blank=True, max_length=500, null=True, verbose_name='Image galerie 1')),
                ('gallery_caption_1', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 1 FR')),
                ('gallery_image_2', models.URLField(blank=True, max_length=500, null=True, verbose_name='Image galerie 2')),
                ('gallery_caption_2', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 2 FR')),
                ('gallery_image_3', models.URLField(blank=True, max_length=500, null=True, verbose_name='Image galerie 3')),
                ('gallery_caption_3', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 3 FR')),
                ('gallery_image_4', models.URLField(blank=True, max_length=500, null=True, verbose_name='Image galerie 4')),
                ('gallery_caption_4', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 4 FR')),
                ('gallery_image_5', models.URLField(blank=True, max_length=500, null=True, verbose_name='Image galerie 5')),
                ('gallery_caption_5', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 5 FR')),
                ('gallery_caption_1_ar', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 1 AR')),
                ('gallery_caption_2_ar', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 2 AR')),
                ('gallery_caption_3_ar', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 3 AR')),
                ('gallery_caption_4_ar', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 4 AR')),
                ('gallery_caption_5_ar', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 5 AR')),
                ('gallery_caption_1_en', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 1 EN')),
                ('gallery_caption_2_en', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 2 EN')),
                ('gallery_caption_3_en', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 3 EN')),
                ('gallery_caption_4_en', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 4 EN')),
                ('gallery_caption_5_en', models.CharField(blank=True, max_length=200, verbose_name='L√©gende image 5 EN')),
                ('certificate_image_1', models.URLField(blank=True, max_length=500, null=True, verbose_name='Certificat 1 - URL')),
                ('certificate_name_1', models.CharField(blank=True, max_length=200, verbose_name='Certificat 1 - Nom FR')),
                ('certificate_desc_1', models.TextField(blank=True, verbose_name='Certificat 1 - Description FR')),
                ('certificate_image_2', models.URLField(blank=True, max_length=500, null=True, verbose_name='Certificat 2 - URL')),
                ('certificate_name_2', models.CharField(blank=True, max_length=200, verbose_name='Certificat 2 - Nom FR')),
                ('certificate_desc_2', models.TextField(blank=True, verbose_name='Certificat 2 - Description FR')),
                ('certificate_image_3', models.URLField(blank=True, max_length=500, null=True, verbose_name='Certificat 3 - URL')),
                ('certificate_name_3', models.CharField(blank=True, max_length=200, verbose_name='Certificat 3 - Nom FR')),
                ('certificate_desc_3', models.TextField(blank=True, verbose_name='Certificat 3 - Description FR')),
                ('certificate_name_1_ar', models.CharField(blank=True, max_length=200, verbose_name='Certificat 1 - Nom AR')),
                ('certificate_desc_1_ar', models.TextField(blank=True, verbose_name='Certificat 1 - Description AR')),
                ('certificate_name_2_ar', models.CharField(blank=True, max_length=200, verbose_name='Certificat 2 - Nom AR')),
                ('certificate_desc_2_ar', models.TextField(blank=True, verbose_name='Certificat 2 - Description AR')),
                ('certificate_name_3_ar', models.CharField(blank=True, max_length=200, verbose_name='Certificat 3 - Nom AR')),
                ('certificate_desc_3_ar', models.TextField(blank=True, verbose_name='Certificat 3 - Description AR')),
                ('certificate_name_1_en', models.CharField(blank=True, max_length=200, verbose_name='Certificat 1 - Nom EN')),
                ('certificate_desc_1_en', models.TextField(blank=True, verbose_name='Certificat 1 - Description EN')),
                ('certificate_name_2_en', models.CharField(blank=True, max_length=200, verbose_name='Certificat 2 - Nom EN')),
                ('certificate_desc_2_en', models.TextField(blank=True, verbose_name='Certificat 2 - Description EN')),
                ('certificate_name_3_en', models.CharField(blank=True, max_length=200, verbose_name='Certificat 3 - Nom EN')),
                ('certificate_desc_3_en', models.TextField(blank=True, verbose_name='Certificat 3 - Description EN')),
                ('license_recto_url', models.URLField(blank=True, max_length=500, null=True, verbose_name='URL licence recto')),
                ('license_verso_url', models.URLField(blank=True, max_length=500, null=True, verbose_name='URL licence verso')),
                ('available_casablanca', models.BooleanField(default=True, verbose_name='Disponible √† Casablanca')),
                ('available_rabat', models.BooleanField(default=True, verbose_name='Disponible √† Rabat')),
                ('available_tanger', models.BooleanField(default=False, verbose_name='Disponible √† Tanger')),
                ('available_marrakech', models.BooleanField(default=False, verbose_name='Disponible √† Marrakech')),
                ('available_agadir', models.BooleanField(default=False, verbose_name='Disponible √† Agadir')),
                ('available_fes', models.BooleanField(default=False, verbose_name='Disponible √† F√®s')),
                ('available_meknes', models.BooleanField(default=False, verbose_name='Disponible √† Mekn√®s')),
                ('available_oujda', models.BooleanField(default=False, verbose_name='Disponible √† Oujda')),
                ('available_laayoune', models.BooleanField(default=False, verbose_name='Disponible √† La√¢youne')),
                ('available_dakhla', models.BooleanField(default=False, verbose_name='Disponible √† Dakhla')),
                ('available_other', models.BooleanField(default=False, verbose_name='Disponible autre ville')),
                ('stat_employment_rate', models.CharField(blank=True, default='95%', max_length=50, verbose_name="Taux d'emploi FR")),
                ('stat_student_satisfaction', models.CharField(blank=True, default='4.8/5', max_length=50, verbose_name='Satisfaction FR')),
                ('stat_exam_success', models.CharField(blank=True, default='98%', max_length=50, verbose_name='Taux de r√©ussite FR')),
                ('stat_average_salary', models.CharField(blank=True, default='8500 MAD', max_length=50, verbose_name='Salaire moyen FR')),
                ('stat_company_partnerships', models.CharField(blank=True, default='50+', max_length=50, verbose_name='Entreprises partenaires FR')),
                ('stat_employment_rate_ar', models.CharField(blank=True, default='Ÿ™Ÿ©Ÿ•', max_length=50, verbose_name="Taux d'emploi AR")),
                ('stat_student_satisfaction_ar', models.CharField(blank=True, default='Ÿ§Ÿ´Ÿ®/Ÿ•', max_length=50, verbose_name='Satisfaction AR')),
                ('stat_exam_success_ar', models.CharField(blank=True, default='Ÿ™Ÿ©Ÿ®', max_length=50, verbose_name='Taux de r√©ussite AR')),
                ('stat_average_salary_ar', models.CharField(blank=True, default='Ÿ®Ÿ•Ÿ†Ÿ† ÿØÿ±ŸáŸÖ', max_length=50, verbose_name='Salaire moyen AR')),
                ('stat_company_partnerships_ar', models.CharField(blank=True, default='Ÿ•Ÿ†+', max_length=50, verbose_name='Entreprises partenaires AR')),
                ('stat_employment_rate_en', models.CharField(blank=True, default='95%', max_length=50, verbose_name='Employment rate EN')),
                ('stat_student_satisfaction_en', models.CharField(blank=True, default='4.8/5', max_length=50, verbose_name='Student satisfaction EN')),
                ('stat_exam_success_en', models.CharField(blank=True, default='98%', max_length=50, verbose_name='Exam success rate EN')),
                ('stat_average_salary_en', models.CharField(blank=True, default='8500 MAD', max_length=50, verbose_name='Average salary EN')),
                ('stat_company_partnerships_en', models.CharField(blank=True, default='50+', max_length=50, verbose_name='Company partnerships EN')),
                ('feature_1', models.CharField(blank=True, max_length=200, verbose_name='Fonctionnalit√© 1 FR')),
                ('feature_2', models.CharField(blank=True, max_length=200, verbose_name='Fonctionnalit√© 2 FR')),
                ('feature_3', models.CharField(blank=True, max_length=200, verbose_name='Fonctionnalit√© 3 FR')),
                ('feature_4', models.CharField(blank=True, max_length=200, verbose_name='Fonctionnalit√© 4 FR')),
                ('feature_5', models.CharField(blank=True, max_length=200, verbose_name='Fonctionnalit√© 5 FR')),
                ('feature_1_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿÆÿßÿµŸäÿ© 1 AR')),
                ('feature_2_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿÆÿßÿµŸäÿ© 2 AR')),
                ('feature_3_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿÆÿßÿµŸäÿ© 3 AR')),
                ('feature_4_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿÆÿßÿµŸäÿ© 4 AR')),
                ('feature_5_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿÆÿßÿµŸäÿ© 5 AR')),
                ('feature_1_en', models.CharField(blank=True, max_length=200, verbose_name='Feature 1 EN')),
                ('feature_2_en', models.CharField(blank=True, max_length=200, verbose_name='Feature 2 EN')),
                ('feature_3_en', models.CharField(blank=True, max_length=200, verbose_name='Feature 3 EN')),
                ('feature_4_en', models.CharField(blank=True, max_length=200, verbose_name='Feature 4 EN')),
                ('feature_5_en', models.CharField(blank=True, max_length=200, verbose_name='Feature 5 EN')),
                ('prerequisite_1', models.CharField(blank=True, max_length=200, verbose_name='Pr√©requis 1 FR')),
                ('prerequisite_2', models.CharField(blank=True, max_length=200, verbose_name='Pr√©requis 2 FR')),
                ('prerequisite_3', models.CharField(blank=True, max_length=200, verbose_name='Pr√©requis 3 FR')),
                ('prerequisite_4', models.CharField(blank=True, max_length=200, verbose_name='Pr√©requis 4 FR')),
                ('prerequisite_5', models.CharField(blank=True, max_length=200, verbose_name='Pr√©requis 5 FR')),
                ('prerequisite_1_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿßŸÑŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ®ŸÇÿ© 1 AR')),
                ('prerequisite_2_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿßŸÑŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ®ŸÇÿ© 2 AR')),
                ('prerequisite_3_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿßŸÑŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ®ŸÇÿ© 3 AR')),
                ('prerequisite_4_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿßŸÑŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ®ŸÇÿ© 4 AR')),
                ('prerequisite_5_ar', models.CharField(blank=True, max_length=200, verbose_name='ÿßŸÑŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ®ŸÇÿ© 5 AR')),
                ('prerequisite_1_en', models.CharField(blank=True, max_length=200, verbose_name='Prerequisite 1 EN')),
                ('prerequisite_2_en', models.CharField(blank=True, max_length=200, verbose_name='Prerequisite 2 EN')),
                ('prerequisite_3_en', models.CharField(blank=True, max_length=200, verbose_name='Prerequisite 3 EN')),
                ('prerequisite_4_en', models.CharField(blank=True, max_length=200, verbose_name='Prerequisite 4 EN')),
                ('prerequisite_5_en', models.CharField(blank=True, max_length=200, verbose_name='Prerequisite 5 EN')),
                ('faq_question_1', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 1 FR')),
                ('faq_answer_1', models.TextField(blank=True, verbose_name='FAQ R√©ponse 1 FR')),
                ('faq_question_2', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 2 FR')),
                ('faq_answer_2', models.TextField(blank=True, verbose_name='FAQ R√©ponse 2 FR')),
                ('faq_question_3', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 3 FR')),
                ('faq_answer_3', models.TextField(blank=True, verbose_name='FAQ R√©ponse 3 FR')),
                ('faq_question_4', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 4 FR')),
                ('faq_answer_4', models.TextField(blank=True, verbose_name='FAQ R√©ponse 4 FR')),
                ('faq_question_5', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 5 FR')),
                ('faq_answer_5', models.TextField(blank=True, verbose_name='FAQ R√©ponse 5 FR')),
                ('faq_question_1_ar', models.CharField(blank=True, max_length=300, verbose_name='ÿ≥ÿ§ÿßŸÑ FAQ 1 AR')),
                ('faq_answer_1_ar', models.TextField(blank=True, verbose_name='ÿ¨Ÿàÿßÿ® FAQ 1 AR')),
                ('faq_question_2_ar', models.CharField(blank=True, max_length=300, verbose_name='ÿ≥ÿ§ÿßŸÑ FAQ 2 AR')),
                ('faq_answer_2_ar', models.TextField(blank=True, verbose_name='ÿ¨Ÿàÿßÿ® FAQ 2 AR')),
                ('faq_question_3_ar', models.CharField(blank=True, max_length=300, verbose_name='ÿ≥ÿ§ÿßŸÑ FAQ 3 AR')),
                ('faq_answer_3_ar', models.TextField(blank=True, verbose_name='ÿ¨Ÿàÿßÿ® FAQ 3 AR')),
                ('faq_question_4_ar', models.CharField(blank=True, max_length=300, verbose_name='ÿ≥ÿ§ÿßŸÑ FAQ 4 AR')),
                ('faq_answer_4_ar', models.TextField(blank=True, verbose_name='ÿ¨Ÿàÿßÿ® FAQ 4 AR')),
                ('faq_question_5_ar', models.CharField(blank=True, max_length=300, verbose_name='ÿ≥ÿ§ÿßŸÑ FAQ 5 AR')),
                ('faq_answer_5_ar', models.TextField(blank=True, verbose_name='ÿ¨Ÿàÿßÿ® FAQ 5 AR')),
                ('faq_question_1_en', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 1 EN')),
                ('faq_answer_1_en', models.TextField(blank=True, verbose_name='FAQ Answer 1 EN')),
                ('faq_question_2_en', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 2 EN')),
                ('faq_answer_2_en', models.TextField(blank=True, verbose_name='FAQ Answer 2 EN')),
                ('faq_question_3_en', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 3 EN')),
                ('faq_answer_3_en', models.TextField(blank=True, verbose_name='FAQ Answer 3 EN')),
                ('faq_question_4_en', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 4 EN')),
                ('faq_answer_4_en', models.TextField(blank=True, verbose_name='FAQ Answer 4 EN')),
                ('faq_question_5_en', models.CharField(blank=True, max_length=300, verbose_name='FAQ Question 5 EN')),
                ('faq_answer_5_en', models.TextField(blank=True, verbose_name='FAQ Answer 5 EN')),
                ('testimonial_name_1', models.CharField(blank=True, max_length=100, verbose_name='T√©moin 1 - Nom FR')),
                ('testimonial_review_1', models.TextField(blank=True, verbose_name='T√©moin 1 - T√©moignage FR')),
                ('testimonial_rating_1', models.PositiveIntegerField(default=5, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)], verbose_name='T√©moin 1 - Note (1-5)')),
                ('testimonial_position_1', models.CharField(blank=True, max_length=100, verbose_name='T√©moin 1 - Poste FR')),
                ('testimonial_name_2', models.CharField(blank=True, max_length=100, verbose_name='T√©moin 2 - Nom FR')),
                ('testimonial_review_2', models.TextField(blank=True, verbose_name='T√©moin 2 - T√©moignage FR')),
                ('testimonial_rating_2', models.PositiveIntegerField(default=5, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)], verbose_name='T√©moin 2 - Note (1-5)')),
                ('testimonial_position_2', models.CharField(blank=True, max_length=100, verbose_name='T√©moin 2 - Poste FR')),
                ('testimonial_name_3', models.CharField(blank=True, max_length=100, verbose_name='T√©moin 3 - Nom FR')),
                ('testimonial_review_3', models.TextField(blank=True, verbose_name='T√©moin 3 - T√©moignage FR')),
                ('testimonial_rating_3', models.PositiveIntegerField(default=5, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)], verbose_name='T√©moin 3 - Note (1-5)')),
                ('testimonial_position_3', models.CharField(blank=True, max_length=100, verbose_name='T√©moin 3 - Poste FR')),
                ('testimonial_name_1_ar', models.CharField(blank=True, max_length=100, verbose_name='ÿ¥ÿßŸáÿØ 1 - ÿßÿ≥ŸÖ AR')),
                ('testimonial_review_1_ar', models.TextField(blank=True, verbose_name='ÿ¥ÿßŸáÿØ 1 - ÿ¥ŸáÿßÿØÿ© AR')),
                ('testimonial_position_1_ar', models.CharField(blank=True, max_length=100, verbose_name='ÿ¥ÿßŸáÿØ 1 - ŸÖŸÜÿµÿ® AR')),
                ('testimonial_name_2_ar', models.CharField(blank=True, max_length=100, verbose_name='ÿ¥ÿßŸáÿØ 2 - ÿßÿ≥ŸÖ AR')),
                ('testimonial_review_2_ar', models.TextField(blank=True, verbose_name='ÿ¥ÿßŸáÿØ 2 - ÿ¥ŸáÿßÿØÿ© AR')),
                ('testimonial_position_2_ar', models.CharField(blank=True, max_length=100, verbose_name='ÿ¥ÿßŸáÿØ 2 - ŸÖŸÜÿµÿ® AR')),
                ('testimonial_name_3_ar', models.CharField(blank=True, max_length=100, verbose_name='ÿ¥ÿßŸáÿØ 3 - ÿßÿ≥ŸÖ AR')),
                ('testimonial_review_3_ar', models.TextField(blank=True, verbose_name='ÿ¥ÿßŸáÿØ 3 - ÿ¥ŸáÿßÿØÿ© AR')),
                ('testimonial_position_3_ar', models.CharField(blank=True, max_length=100, verbose_name='ÿ¥ÿßŸáÿØ 3 - ŸÖŸÜÿµÿ® AR')),
                ('testimonial_name_1_en', models.CharField(blank=True, max_length=100, verbose_name='Witness 1 - Name EN')),
                ('testimonial_review_1_en', models.TextField(blank=True, verbose_name='Witness 1 - Testimonial EN')),
                ('testimonial_position_1_en', models.CharField(blank=True, max_length=100, verbose_name='Witness 1 - Position EN')),
                ('testimonial_name_2_en', models.CharField(blank=True, max_length=100, verbose_name='Witness 2 - Name EN')),
                ('testimonial_review_2_en', models.TextField(blank=True, verbose_name='Witness 2 - Testimonial EN')),
                ('testimonial_position_2_en', models.CharField(blank=True, max_length=100, verbose_name='Witness 2 - Position EN')),
                ('testimonial_name_3_en', models.CharField(blank=True, max_length=100, verbose_name='Witness 3 - Name EN')),
                ('testimonial_review_3_en', models.TextField(blank=True, verbose_name='Witness 3 - Testimonial EN')),
                ('testimonial_position_3_en', models.CharField(blank=True, max_length=100, verbose_name='Witness 3 - Position EN')),
                ('category_caces', models.BooleanField(db_index=True, default=False, verbose_name='Cat√©gorie CACES Engins')),
                ('category_electricite', models.BooleanField(db_index=True, default=False, verbose_name='Cat√©gorie √âlectricit√©')),
                ('category_soudage', models.BooleanField(db_index=True, default=False, verbose_name='Cat√©gorie Soudage')),
                ('category_securite', models.BooleanField(db_index=True, default=False, verbose_name='Cat√©gorie S√©curit√©')),
                ('category_management', models.BooleanField(db_index=True, default=False, verbose_name='Cat√©gorie Management')),
                ('category_autre', models.BooleanField(db_index=True, default=False, verbose_name='Cat√©gorie Autre')),
                ('next_session', models.DateField(blank=True, null=True, verbose_name='Prochaine session')),
                ('schedule_json', models.JSONField(blank=True, default=list, help_text='Calendrier JSON des sessions', verbose_name='Calendrier de formation')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Date de cr√©ation')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Derni√®re modification')),
                ('view_count', models.PositiveIntegerField(default=0, verbose_name='Nombre de vues')),
                ('inquiry_count', models.PositiveIntegerField(default=0, verbose_name='Nombre de demandes')),
                ('enrollment_count', models.PositiveIntegerField(default=0, verbose_name="Nombre d'inscriptions")),
            ],
            options={
                'verbose_name': 'Formation',
                'verbose_name_plural': 'Formations',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['is_active', 'created_at'], name='Prolean_tra_is_acti_46bfdc_idx'), models.Index(fields=['is_featured', 'is_active'], name='Prolean_tra_is_feat_5ab26d_idx'), models.Index(fields=['category_caces', 'is_active'], name='Prolean_tra_categor_9f7152_idx'), models.Index(fields=['category_electricite', 'is_active'], name='Prolean_tra_categor_d40e82_idx'), models.Index(fields=['category_soudage', 'is_active'], name='Prolean_tra_categor_b978db_idx'), models.Index(fields=['price_mad', 'is_active'], name='Prolean_tra_price_m_6a198c_idx')],
            },
        ),
        migrations.AddField(
            model_name='studentprofile',
            name='authorized_formations',
            field=models.ManyToManyField(blank=True, related_name='students', to='Prolean.training', verbose_name='Formations autoris√©es'),
        ),
        migrations.AddField(
            model_name='session',
            name='formations',
            field=models.ManyToManyField(related_name='sessions', to='Prolean.training', verbose_name='Formations'),
        ),
        migrations.AddField(
            model_name='recordedvideo',
            name='training',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='videos', to='Prolean.training'),
        ),
        migrations.CreateModel(
            name='Promotion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='Titre de la promotion')),
                ('subtitle', models.CharField(blank=True, max_length=300, verbose_name='Sous-titre')),
                ('description', models.TextField(verbose_name='Description')),
                ('title_ar', models.CharField(blank=True, max_length=200, verbose_name='Titre de la promotion AR')),
                ('subtitle_ar', models.CharField(blank=True, max_length=300, verbose_name='Sous-titre AR')),
                ('description_ar', models.TextField(blank=True, verbose_name='Description AR')),
                ('title_en', models.CharField(blank=True, max_length=200, verbose_name='Promotion title EN')),
                ('subtitle_en', models.CharField(blank=True, max_length=300, verbose_name='Subtitle EN')),
                ('description_en', models.TextField(blank=True, verbose_name='Description EN')),
                ('original_price_mad', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix original (MAD)')),
                ('promotional_price_mad', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix promotionnel (MAD)')),
                ('discount_percentage', models.PositiveIntegerField(verbose_name='Pourcentage de r√©duction')),
                ('background_color', models.CharField(default='#34745C', max_length=50, verbose_name='Couleur de fond')),
                ('text_color', models.CharField(default='#FFFFFF', max_length=50, verbose_name='Couleur du texte')),
                ('badge_text', models.CharField(default='PROMO', max_length=50, verbose_name='Texte du badge')),
                ('badge_text_ar', models.CharField(blank=True, default='ÿπÿ±ÿ∂', max_length=50, verbose_name='ŸÜÿµ ÿßŸÑÿ¥ÿßÿ±ÿ© AR')),
                ('badge_text_en', models.CharField(blank=True, default='PROMO', max_length=50, verbose_name='Badge text EN')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('valid_until', models.DateField(verbose_name="Valide jusqu'au")),
                ('max_uses', models.PositiveIntegerField(default=100, verbose_name='Utilisations maximum')),
                ('current_uses', models.PositiveIntegerField(default=0, verbose_name='Utilisations actuelles')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de cr√©ation')),
                ('training', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Prolean.training', verbose_name='Formation associ√©e')),
            ],
            options={
                'verbose_name': 'Promotion',
                'verbose_name_plural': 'Promotions',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ContactRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('full_name', models.CharField(max_length=200, verbose_name='Nom complet')),
                ('email', models.EmailField(max_length=254, verbose_name='Adresse email')),
                ('phone', models.CharField(max_length=20, verbose_name='T√©l√©phone')),
                ('city', models.CharField(max_length=100, verbose_name='Ville')),
                ('country', models.CharField(default='Maroc', max_length=100, verbose_name='Pays')),
                ('request_type', models.CharField(choices=[('training', 'Demande de formation'), ('migration', 'Service de migration'), ('information', "Demande d'information"), ('partnership', 'Partenariat'), ('other', 'Autre')], max_length=20, verbose_name='Type de demande')),
                ('message', models.TextField(verbose_name='Message')),
                ('payment_method', models.CharField(blank=True, choices=[('card', 'Carte bancaire'), ('bank_transfer', 'Virement bancaire'), ('cash', 'Paiement sur place')], max_length=20, verbose_name='M√©thode de paiement')),
                ('card_last_four', models.CharField(blank=True, max_length=4, verbose_name='4 derniers chiffres carte')),
                ('card_expiry', models.CharField(blank=True, max_length=5, verbose_name="Date d'expiration")),
                ('transfer_confirmation', models.TextField(blank=True, verbose_name='Confirmation de virement')),
                ('transfer_screenshot_url', models.URLField(blank=True, max_length=500, verbose_name='URL capture virement')),
                ('transfer_reference', models.CharField(blank=True, max_length=100, verbose_name='R√©f√©rence virement')),
                ('transfer_date', models.DateField(blank=True, null=True, verbose_name='Date du virement')),
                ('training_title', models.CharField(blank=True, max_length=200, verbose_name='Formation concern√©e')),
                ('status', models.CharField(choices=[('new', 'Nouveau'), ('contacted', 'Contact√©'), ('processing', 'En traitement'), ('completed', 'Trait√©'), ('archived', 'Archiv√©')], default='new', max_length=20, verbose_name='Statut')),
                ('payment_status', models.CharField(choices=[('pending', 'En attente'), ('processing', 'En traitement'), ('completed', 'Compl√©t√©'), ('failed', '√âchou√©')], default='pending', max_length=20, verbose_name='Statut du paiement')),
                ('lead_score', models.PositiveIntegerField(default=0, verbose_name='Score du lead (0-100)')),
                ('is_threat', models.BooleanField(default=False, verbose_name='Menace potentielle')),
                ('threat_reason', models.CharField(blank=True, max_length=200, verbose_name='Raison de la menace')),
                ('submitted_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Date de soumission')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='Adresse IP')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('session_id', models.CharField(blank=True, max_length=100, verbose_name='ID de session')),
                ('training', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Prolean.training', verbose_name='Formation')),
            ],
            options={
                'verbose_name': 'Demande de contact',
                'verbose_name_plural': 'Demandes de contact',
                'ordering': ['-submitted_at'],
            },
        ),
        migrations.CreateModel(
            name='TrainingPreSubscription',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('full_name', models.CharField(max_length=200, verbose_name='Nom complet')),
                ('email', models.EmailField(max_length=254, verbose_name='Adresse email')),
                ('phone', models.CharField(max_length=20, verbose_name='T√©l√©phone')),
                ('city', models.CharField(max_length=100, verbose_name='Ville')),
                ('payment_method', models.CharField(choices=[('card', 'Carte bancaire'), ('bank_transfer', 'Virement bancaire'), ('cash', 'Paiement sur place')], max_length=50, verbose_name='M√©thode de paiement')),
                ('card_last_four', models.CharField(blank=True, max_length=4, verbose_name='4 derniers chiffres de la carte')),
                ('card_expiry', models.CharField(blank=True, max_length=5, verbose_name="Date d'expiration")),
                ('transfer_confirmation', models.TextField(blank=True, verbose_name='Confirmation de virement')),
                ('transfer_reference', models.CharField(blank=True, max_length=100, verbose_name='R√©f√©rence virement')),
                ('transaction_id', models.UUIDField(default=uuid.uuid4, unique=True, verbose_name='ID de transaction')),
                ('payment_status', models.CharField(choices=[('pending', 'En attente'), ('processing', 'En traitement'), ('completed', 'Compl√©t√©'), ('failed', '√âchou√©')], default='pending', max_length=20, verbose_name='Statut du paiement')),
                ('original_price_mad', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix original (MAD)')),
                ('paid_price_mad', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Montant pay√© (MAD)')),
                ('currency_used', models.CharField(default='MAD', max_length=3, verbose_name='Devise utilis√©e')),
                ('receipt_generated', models.BooleanField(default=False, verbose_name='Re√ßu g√©n√©r√©')),
                ('receipt_pdf_url', models.URLField(blank=True, max_length=500, verbose_name='URL du re√ßu PDF')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de cr√©ation')),
                ('payment_completed_at', models.DateTimeField(blank=True, null=True, verbose_name='Date de paiement')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='Adresse IP')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('session_id', models.CharField(blank=True, max_length=100, verbose_name='ID de session')),
                ('training', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='presubscriptions', to='Prolean.training', verbose_name='Formation')),
            ],
            options={
                'verbose_name': 'Pr√©-inscription',
                'verbose_name_plural': 'Pr√©-inscriptions',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TrainingReview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('full_name', models.CharField(max_length=100, verbose_name='Nom complet')),
                ('email', models.EmailField(max_length=254, verbose_name='Email')),
                ('avatar', models.CharField(blank=True, default='', max_length=100, verbose_name='Avatar')),
                ('rating', models.PositiveIntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)], verbose_name='Note (1-5)')),
                ('title', models.CharField(max_length=200, verbose_name='Titre du commentaire')),
                ('comment', models.TextField(verbose_name='Commentaire')),
                ('is_verified', models.BooleanField(default=False, verbose_name='V√©rifi√©')),
                ('is_approved', models.BooleanField(default=False, verbose_name='Approuv√© pour affichage')),
                ('helpful_count', models.PositiveIntegerField(default=0, verbose_name='Utile')),
                ('not_helpful_count', models.PositiveIntegerField(default=0, verbose_name='Pas utile')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de cr√©ation')),
                ('contact_request', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Prolean.contactrequest', verbose_name='Demande originale')),
                ('training', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reviews', to='Prolean.training', verbose_name='Formation')),
            ],
            options={
                'verbose_name': 'Avis sur formation',
                'verbose_name_plural': 'Avis sur formations',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TrainingWaitlist',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('email', models.EmailField(max_length=254, verbose_name='Adresse email')),
                ('full_name', models.CharField(max_length=200, verbose_name='Nom complet')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='T√©l√©phone')),
                ('preferred_session', models.DateField(blank=True, null=True, verbose_name='Session pr√©f√©r√©e')),
                ('city', models.CharField(max_length=100, verbose_name='Ville')),
                ('notified', models.BooleanField(default=False, verbose_name='Notifi√©')),
                ('notes', models.TextField(blank=True, verbose_name='Notes')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name="Date d'inscription")),
                ('training', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='waitlist', to='Prolean.training', verbose_name='Formation')),
            ],
            options={
                'verbose_name': "Liste d'attente",
                'verbose_name_plural': "Listes d'attente",
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='VideoProgress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('watched_seconds', models.IntegerField(default=0)),
                ('completed', models.BooleanField(default=False)),
                ('last_watched_at', models.DateTimeField(auto_now=True)),
                ('student', models.ForeignKey(limit_choices_to={'role': 'STUDENT'}, on_delete=django.db.models.deletion.CASCADE, related_name='video_progress', to='Prolean.profile')),
                ('video', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progress', to='Prolean.recordedvideo')),
            ],
        ),
        migrations.AddIndex(
            model_name='contactrequest',
            index=models.Index(fields=['status', 'submitted_at'], name='Prolean_con_status_a104ff_idx'),
        ),
        migrations.AddIndex(
            model_name='contactrequest',
            index=models.Index(fields=['payment_method', 'payment_status'], name='Prolean_con_payment_5ae907_idx'),
        ),
        migrations.AddIndex(
            model_name='contactrequest',
            index=models.Index(fields=['lead_score'], name='Prolean_con_lead_sc_3b2841_idx'),
        ),
        migrations.AddIndex(
            model_name='trainingpresubscription',
            index=models.Index(fields=['training', 'payment_status'], name='Prolean_tra_trainin_19b1eb_idx'),
        ),
        migrations.AddIndex(
            model_name='trainingpresubscription',
            index=models.Index(fields=['email', 'created_at'], name='Prolean_tra_email_a41493_idx'),
        ),
        migrations.AddIndex(
            model_name='trainingpresubscription',
            index=models.Index(fields=['transaction_id'], name='Prolean_tra_transac_40b8f7_idx'),
        ),
        migrations.AddIndex(
            model_name='trainingreview',
            index=models.Index(fields=['training', 'is_approved', 'is_verified'], name='Prolean_tra_trainin_5ab06a_idx'),
        ),
        migrations.AddIndex(
            model_name='trainingreview',
            index=models.Index(fields=['rating', 'is_approved'], name='Prolean_tra_rating_1571bb_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='trainingwaitlist',
            unique_together={('training', 'email')},
        ),
        migrations.AlterUniqueTogether(
            name='videoprogress',
            unique_together={('student', 'video')},
        ),
    ]

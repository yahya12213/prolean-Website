{% extends 'Prolean/base.html' %}
{% load static %}

{% block title %}Statut du Compte - Prolean Centre{% endblock %}

{% block content %}
<style>
    .status-layout {
        --stu-bg: #FFFFFF;
        --stu-surface: #F8FAFC;
        --stu-text-main: #0F172A;
        --stu-text-muted: #64748B;
        --stu-brand: #FF6B00;
        --stu-brand-light: rgba(255, 107, 0, 0.1);
        --stu-border: #E2E8F0;
    }

    .dark .status-layout {
        --stu-bg: #171717;
        --stu-surface: #121212;
        --stu-text-main: #EDEDED;
        --stu-text-muted: #A3A3A3;
        --stu-brand: #FF6B00;
        --stu-brand-light: rgba(255, 107, 0, 0.1);
        --stu-border: #262626;
    }

    .status-card {
        background: var(--stu-bg);
        border: 1px solid var(--stu-border);
        border-radius: 32px;
        box-shadow: 0 40px 60px -20px rgba(0, 0, 0, 0.1);
        max-width: 480px;
        width: 100%;
        padding: 56px;
        text-align: center;
        transition: all 0.3s ease;
    }

    .dark .status-card {
        box-shadow: 0 40px 60px -20px rgba(0, 0, 0, 0.6);
    }

    .status-icon-wrapper {
        width: 88px;
        height: 88px;
        border-radius: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 32px;
        background: var(--stu-surface);
        border: 1px solid var(--stu-border);
    }

    .contact-btn {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 14px 28px;
        background: var(--stu-brand);
        color: white;
        border-radius: 14px;
        font-weight: 800;
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        margin-top: 32px;
    }

    .contact-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px -5px rgba(52, 116, 92, 0.3);
    }
</style>

<div class="status-layout min-h-[calc(100vh-80px)] flex items-center justify-center p-6 bg-surface-hover transition-colors" style="background: var(--stu-surface);">
    <div class="status-card">
        <!-- Status Badge -->
        <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full mb-8 text-[11px] font-black uppercase tracking-widest transition-colors"
             style="{% if profile.status == 'PENDING' %}background: #FEF3C7; color: #92400E;{% else %}background: #FEE2E2; color: #991B1B;{% endif %}">
            <span class="size-2 rounded-full animate-pulse" style="background: currentColor;"></span>
            {% if profile.status == 'PENDING' %}En attente{% else %}Suspendu{% endif %}
        </div>

        <!-- Icon -->
        <div class="status-icon-wrapper">
            {% if profile.status == 'PENDING' %}
                <span class="material-symbols-outlined text-4xl" style="color: var(--stu-brand);">hourglass_empty</span>
            {% else %}
                <span class="material-symbols-outlined text-4xl text-red-500">lock_open</span>
            {% endif %}
        </div>

        <!-- Title -->
        <h1 class="text-2xl font-black mb-4 transition-colors" style="color: var(--stu-text-main);">
            {% if profile.status == 'PENDING' %}Inscription en cours{% else %}Accès Restreint{% endif %}
        </h1>

        <!-- Message -->
        <p class="text-sm font-medium leading-relaxed mb-6 transition-colors" style="color: var(--stu-text-muted);">
            {% if profile.status == 'PENDING' %}
                Votre dossier est en cours d'examen. Vous recevrez une notification dès que votre accès sera validé.
            {% else %}
                Votre compte a été temporairement suspendu. Contactez notre équipe pour régulariser votre situation.
            {% endif %}
        </p>

        <!-- Action -->
        <a href="mailto:administration@prolean.com" class="contact-btn">
            Contacter le support
        </a>

        <!-- Logout -->
        <form action="{% url 'Prolean:logout' %}" method="post" class="mt-8">
            {% csrf_token %}
            <button type="submit" class="text-xs font-bold uppercase tracking-widest opacity-50 hover:opacity-100 transition-opacity" style="color: var(--stu-text-muted);">
                Se déconnecter
            </button>
        </form>
    </div>
</div>
{% endblock %}

<!-- templates/Prolean/migration_services.html -->
{% extends 'Prolean/base.html' %}
{% load static %}

{% block title %}Accompagnement à la Migration - Prolean Centre{% endblock %}

{% block extra_css %}
<style>
    .process-line::after {
        content: '';
        position: absolute;
        top: 40px;
        left: 50px;
        right: 50px;
        height: 2px;
        background: repeating-linear-gradient(to right, #C5A059 0, #C5A059 10px, transparent 10px, transparent 20px);
        z-index: 0;
    }
    @media (max-width: 1024px) {
        .process-line::after { display: none; }
    }
    .animate-bounce-slow {
        animation: bounce 3s infinite;
    }
    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative pt-12 sm:pt-16 pb-12 sm:pb-24 px-4 sm:px-6 overflow-hidden">
    <div class="absolute top-0 right-0 w-1/3 h-full bg-neutral-50 dark:bg-neutral-900/40 -z-10 skew-x-[-12deg] translate-x-1/2"></div>
    
    <div class="max-w-[1200px] mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <!-- Left Content -->
            <div class="space-y-8">
                <!-- Badge -->
                <div class="flex items-center gap-2">
                    <span class="w-8 h-px bg-accent-gold"></span>
                    <span class="text-accent-gold font-bold text-xs uppercase tracking-[0.2em]">Expatriation & Mobilité</span>
                </div>

                <!-- Title -->
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-black leading-tight text-primary dark:text-white">
                    Accompagnement à la <br/>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-accent-blue to-accent-gold">Migration.</span>
                </h1>

                <!-- Description -->
                <p class="text-lg sm:text-xl text-neutral-600 dark:text-neutral-400 leading-relaxed max-w-xl">
                    Une expertise unique pour sécuriser votre installation en France. Nous transformons les complexités administratives en un parcours serein vers votre nouvelle carrière.
                </p>

                <!-- Action Buttons -->
                <div class="flex flex-wrap gap-4">
                    <a href="#contact-form" 
                       class="px-6 sm:px-8 py-3 sm:py-4 bg-accent-blue text-white rounded-xl font-bold text-base hover:shadow-[0_20px_40px_-15px_rgba(0,86,179,0.3)] hover:-translate-y-1 transition-all duration-300">
                        Évaluer mon éligibilité
                    </a>
                    <button class="px-6 sm:px-8 py-3 sm:py-4 bg-white dark:bg-neutral-800 text-primary dark:text-white border border-neutral-200 dark:border-neutral-700 rounded-xl font-bold text-base flex items-center gap-2 hover:bg-neutral-50 dark:hover:bg-neutral-700 transition-all">
                        <span class="material-symbols-outlined text-accent-blue">play_circle</span>
                        Notre méthode
                    </button>
                </div>

                <!-- Stats -->
                <div class="flex items-center gap-6 sm:gap-8 pt-6 border-t border-neutral-100 dark:border-neutral-800">
                    <div>
                        <p class="text-2xl font-bold text-accent-blue dark:text-white">98%</p>
                        <p class="text-xs text-neutral-500 font-medium">Taux de réussite Visa</p>
                    </div>
                    <div>
                        <p class="text-2xl font-bold text-accent-blue dark:text-white">+500</p>
                        <p class="text-xs text-neutral-500 font-medium">Talents accompagnés</p>
                    </div>
                    <div>
                        <p class="text-2xl font-bold text-accent-blue dark:text-white">15j</p>
                        <p class="text-xs text-neutral-500 font-medium">Délai moyen réponse</p>
                    </div>
                </div>
            </div>

            <!-- Right Image -->
            <div class="relative">
                <div class="relative z-10 w-full aspect-[5/4] rounded-[2.5rem] overflow-hidden shadow-2xl">
                    <img src="https://images.unsplash.com/photo-1551836026-d5c2e0c49b61?q=80&w=1170&auto=format&fit=crop"
                         alt="Migration Professionnelle" 
                         class="w-full h-full object-cover scale-105 hover:scale-100 transition-transform duration-700">
                </div>
                
                <!-- Certification Badge -->
                <div class="absolute -bottom-6 -left-6 bg-white dark:bg-neutral-800 p-6 rounded-2xl shadow-xl z-20 flex items-center gap-4 animate-bounce-slow">
                    <div class="size-12 bg-accent-gold/20 rounded-full flex items-center justify-center">
                        <span class="material-symbols-outlined text-accent-gold font-bold">verified</span>
                    </div>
                    <div>
                        <p class="text-sm font-bold">Certifié Qualiopi</p>
                        <p class="text-xs text-neutral-500">Excellence de formation</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Process Section -->
<section class="bg-white dark:bg-neutral-900/30 py-12 sm:py-24 px-4 sm:px-6">
    <div class="max-w-[1200px] mx-auto">
        <div class="text-center max-w-3xl mx-auto mb-12 sm:mb-20">
            <h2 class="text-sm font-black text-accent-gold uppercase tracking-widest mb-4">Parcours Client</h2>
            <h3 class="text-3xl sm:text-4xl font-bold text-primary dark:text-white">Notre Processus d'Accompagnement</h3>
            <p class="mt-4 text-neutral-600 dark:text-neutral-400">Une méthodologie en quatre temps pour une transition professionnelle et personnelle sans accrocs.</p>
        </div>

        <div class="relative process-line">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 sm:gap-12">
                <!-- Step 1 -->
                <div class="relative z-10 flex flex-col items-center text-center group">
                    <div class="size-16 sm:size-20 bg-white dark:bg-neutral-800 rounded-full shadow-xl border-4 border-neutral-50 dark:border-neutral-900 flex items-center justify-center mb-6 group-hover:border-accent-blue transition-all duration-300">
                        <span class="material-symbols-outlined text-accent-blue text-2xl sm:text-3xl group-hover:scale-110 transition-transform">analytics</span>
                    </div>
                    <span class="absolute top-0 right-1/4 size-8 bg-neutral-100 dark:bg-neutral-700 rounded-full flex items-center justify-center text-xs font-black text-neutral-400">01</span>
                    <h4 class="text-xl font-bold mb-3">Évaluation</h4>
                    <p class="text-neutral-500 dark:text-neutral-400 text-sm leading-relaxed">Analyse personnalisée de votre profil académique et professionnel pour valider votre projet.</p>
                </div>

                <!-- Step 2 -->
                <div class="relative z-10 flex flex-col items-center text-center group">
                    <div class="size-16 sm:size-20 bg-white dark:bg-neutral-800 rounded-full shadow-xl border-4 border-neutral-50 dark:border-neutral-900 flex items-center justify-center mb-6 group-hover:border-accent-blue transition-all duration-300">
                        <span class="material-symbols-outlined text-accent-blue text-2xl sm:text-3xl group-hover:scale-110 transition-transform">draw</span>
                    </div>
                    <span class="absolute top-0 right-1/4 size-8 bg-neutral-100 dark:bg-neutral-700 rounded-full flex items-center justify-center text-xs font-black text-neutral-400">02</span>
                    <h4 class="text-xl font-bold mb-3">Dossier</h4>
                    <p class="text-neutral-500 dark:text-neutral-400 text-sm leading-relaxed">Préparation minutieuse de votre dossier administratif et des justificatifs requis.</p>
                </div>

                <!-- Step 3 -->
                <div class="relative z-10 flex flex-col items-center text-center group">
                    <div class="size-16 sm:size-20 bg-white dark:bg-neutral-800 rounded-full shadow-xl border-4 border-neutral-50 dark:border-neutral-900 flex items-center justify-center mb-6 group-hover:border-accent-blue transition-all duration-300">
                        <span class="material-symbols-outlined text-accent-blue text-2xl sm:text-3xl group-hover:scale-110 transition-transform">badge</span>
                    </div>
                    <span class="absolute top-0 right-1/4 size-8 bg-neutral-100 dark:bg-neutral-700 rounded-full flex items-center justify-center text-xs font-black text-neutral-400">03</span>
                    <h4 class="text-xl font-bold mb-3">Visa</h4>
                    <p class="text-neutral-500 dark:text-neutral-400 text-sm leading-relaxed">Suivi proactif de la demande de visa et préparation aux entretiens consulaires.</p>
                </div>

                <!-- Step 4 -->
                <div class="relative z-10 flex flex-col items-center text-center group">
                    <div class="size-16 sm:size-20 bg-accent-gold text-white rounded-full shadow-xl border-4 border-white dark:border-neutral-900 flex items-center justify-center mb-6 group-hover:shadow-accent-gold/40 transition-all duration-300">
                        <span class="material-symbols-outlined text-2xl sm:text-3xl group-hover:scale-110 transition-transform">rocket_launch</span>
                    </div>
                    <span class="absolute top-0 right-1/4 size-8 bg-accent-gold/20 rounded-full flex items-center justify-center text-xs font-black text-accent-gold">04</span>
                    <h4 class="text-xl font-bold mb-3">Intégration</h4>
                    <p class="text-neutral-500 dark:text-neutral-400 text-sm leading-relaxed">Accueil, logement et intégration dans votre nouvel environnement professionnel.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Services Included -->
<section class="py-12 sm:py-24 px-4 sm:px-6 bg-neutral-50 dark:bg-neutral-900/50">
    <div class="max-w-[1200px] mx-auto">
        <div class="flex flex-col md:flex-row md:items-end justify-between mb-12 sm:mb-16 gap-8">
            <div class="max-w-2xl">
                <h2 class="text-3xl sm:text-4xl font-bold mb-6 text-primary dark:text-white">Services Inclus dans notre Pack</h2>
                <p class="text-lg text-neutral-600 dark:text-neutral-400">Nous ne nous contentons pas de vous obtenir un visa. Nous bâtissons les fondations de votre futur succès.</p>
            </div>
            <a href="#contact-form" class="inline-flex items-center gap-2 text-accent-blue dark:text-accent-gold font-bold group border-b-2 border-transparent hover:border-accent-gold pb-1 transition-all">
                Tous nos services 
                <span class="material-symbols-outlined text-xl group-hover:translate-x-1 transition-transform">trending_flat</span>
            </a>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8">
            <!-- Service 1 -->
            <div class="group bg-white dark:bg-neutral-800 p-6 sm:p-10 rounded-[2rem] border border-neutral-100 dark:border-neutral-700 hover:border-accent-gold transition-all duration-500 shadow-sm hover:shadow-2xl hover:-translate-y-2">
                <div class="size-12 sm:size-16 bg-accent-blue/5 rounded-2xl flex items-center justify-center mb-8 group-hover:bg-accent-blue transition-colors duration-500">
                    <span class="material-symbols-outlined text-2xl sm:text-3xl text-accent-blue group-hover:text-white">gavel</span>
                </div>
                <h4 class="text-xl sm:text-2xl font-bold mb-4">Assistance Juridique</h4>
                <p class="text-neutral-500 dark:text-neutral-400 leading-relaxed mb-6">
                    Gestion complète des formalités préfectorales, obtention du numéro de sécurité sociale et régularisation administrative.
                </p>
                <ul class="space-y-3 text-sm font-medium text-neutral-600 dark:text-neutral-300">
                    <li class="flex items-center gap-2">
                        <span class="material-symbols-outlined text-accent-gold text-sm">check_circle</span>
                        Ouverture compte bancaire
                    </li>
                    <li class="flex items-center gap-2">
                        <span class="material-symbols-outlined text-accent-gold text-sm">check_circle</span>
                        Inscription CPAM / CAF
                    </li>
                </ul>
            </div>

            <!-- Service 2 -->
            <div class="group bg-white dark:bg-neutral-800 p-6 sm:p-10 rounded-[2rem] border border-neutral-100 dark:border-neutral-700 hover:border-accent-gold transition-all duration-500 shadow-sm hover:shadow-2xl hover:-translate-y-2">
                <div class="size-12 sm:size-16 bg-accent-gold/10 rounded-2xl flex items-center justify-center mb-8 group-hover:bg-accent-gold transition-colors duration-500">
                    <span class="material-symbols-outlined text-2xl sm:text-3xl text-accent-gold group-hover:text-white">cottage</span>
                </div>
                <h4 class="text-xl sm:text-2xl font-bold mb-4">Logement Garanti</h4>
                <p class="text-neutral-500 dark:text-neutral-400 leading-relaxed mb-6">
                    Plus besoin de dossier de location impossible à fournir. Nous activons nos réseaux pour vous loger avant votre arrivée.
                </p>
                <ul class="space-y-3 text-sm font-medium text-neutral-600 dark:text-neutral-300">
                    <li class="flex items-center gap-2">
                        <span class="material-symbols-outlined text-accent-blue text-sm">check_circle</span>
                        Visites virtuelles
                    </li>
                    <li class="flex items-center gap-2">
                        <span class="material-symbols-outlined text-accent-blue text-sm">check_circle</span>
                        Signature bail à distance
                    </li>
                </ul>
            </div>

            <!-- Service 3 -->
            <div class="group bg-white dark:bg-neutral-800 p-6 sm:p-10 rounded-[2rem] border border-neutral-100 dark:border-neutral-700 hover:border-accent-gold transition-all duration-500 shadow-sm hover:shadow-2xl hover:-translate-y-2">
                <div class="size-12 sm:size-16 bg-accent-blue/5 rounded-2xl flex items-center justify-center mb-8 group-hover:bg-accent-blue transition-colors duration-500">
                    <span class="material-symbols-outlined text-2xl sm:text-3xl text-accent-blue group-hover:text-white">handshake</span>
                </div>
                <h4 class="text-xl sm:text-2xl font-bold mb-4">Job Placement</h4>
                <p class="text-neutral-500 dark:text-neutral-400 leading-relaxed mb-6">
                    Accès privilégié à notre job board partenaire et coaching intensif aux codes du recrutement français.
                </p>
                <ul class="space-y-3 text-sm font-medium text-neutral-600 dark:text-neutral-300">
                    <li class="flex items-center gap-2">
                        <span class="material-symbols-outlined text-accent-gold text-sm">check_circle</span>
                        Optimisation CV/LinkedIn
                    </li>
                    <li class="flex items-center gap-2">
                        <span class="material-symbols-outlined text-accent-gold text-sm">check_circle</span>
                        3 Entretiens garantis
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials -->
<section class="py-12 sm:py-24 px-4 sm:px-6 bg-accent-blue overflow-hidden relative">
    <div class="absolute inset-0 opacity-10 pointer-events-none">
        <svg class="h-full w-full" preserveAspectRatio="none" viewBox="0 0 100 100">
            <path d="M0 0 L100 0 L100 100 Z" fill="white"></path>
        </svg>
    </div>
    
    <div class="max-w-[1200px] mx-auto relative z-10">
        <div class="text-center mb-12 sm:mb-20">
            <h2 class="text-accent-gold font-bold uppercase tracking-[0.3em] text-xs mb-4">Success Stories</h2>
            <h3 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6">Ils ont sauté le pas</h3>
            <p class="text-white/80 max-w-2xl mx-auto text-lg">Découvrez le parcours de professionnels qui, comme vous, ont choisi Prolean pour leur nouvelle vie.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8">
            <!-- Testimonial 1 -->
            <div class="bg-white/5 backdrop-blur-xl border border-white/10 p-6 sm:p-10 rounded-3xl group hover:bg-white hover:text-neutral-900 transition-all duration-500">
                <div class="flex gap-1 text-accent-gold mb-6">
                    {% for i in "12345" %}<span class="material-symbols-outlined fill-1">star</span>{% endfor %}
                </div>
                <p class="text-lg mb-8 sm:mb-10 leading-relaxed">"Le processus était d'une fluidité incroyable. J'ai été accompagné du début à la fin, sans stress."</p>
                <div class="flex items-center gap-4">
                    <div class="size-12 sm:size-14 rounded-full overflow-hidden border-2 border-accent-gold p-0.5">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                             alt="Ahmed" class="w-full h-full object-cover rounded-full">
                    </div>
                    <div>
                        <p class="font-bold text-white group-hover:text-accent-blue">Ahmed B.</p>
                        <p class="text-xs text-white/60 group-hover:text-neutral-600">Dev Fullstack, Lyon</p>
                    </div>
                </div>
            </div>

            <!-- Testimonial 2 -->
            <div class="bg-white p-6 sm:p-10 rounded-3xl shadow-2xl md:-translate-y-8">
                <div class="flex gap-1 text-accent-gold mb-6">
                    {% for i in "12345" %}<span class="material-symbols-outlined fill-1">star</span>{% endfor %}
                </div>
                <p class="text-lg text-neutral-900 mb-8 sm:mb-10 leading-relaxed font-medium">"Prolean a su débloquer ma situation de logement en un temps record. Je recommande à 100%."</p>
                <div class="flex items-center gap-4">
                    <div class="size-12 sm:size-14 rounded-full overflow-hidden border-2 border-accent-gold p-0.5">
                        <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                             alt="Elena" class="w-full h-full object-cover rounded-full">
                    </div>
                    <div>
                        <p class="font-bold text-accent-blue">Elena R.</p>
                        <p class="text-xs text-neutral-500">Data Engineer, Paris</p>
                    </div>
                </div>
            </div>

            <!-- Testimonial 3 -->
            <div class="bg-white/5 backdrop-blur-xl border border-white/10 p-6 sm:p-10 rounded-3xl group hover:bg-white hover:text-neutral-900 transition-all duration-500">
                <div class="flex gap-1 text-accent-gold mb-6">
                    {% for i in "12345" %}<span class="material-symbols-outlined fill-1">star</span>{% endfor %}
                </div>
                <p class="text-lg mb-8 sm:mb-10 leading-relaxed">"Une équipe réactive et professionnelle. Mon visa a été validé sans aucune demande de complément."</p>
                <div class="flex items-center gap-4">
                    <div class="size-12 sm:size-14 rounded-full overflow-hidden border-2 border-accent-gold p-0.5">
                        <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                             alt="Kevin" class="w-full h-full object-cover rounded-full">
                    </div>
                    <div>
                        <p class="font-bold text-white group-hover:text-accent-blue">Kevin K.</p>
                        <p class="text-xs text-white/60 group-hover:text-neutral-600">Finance Analyst, Bordeaux</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form Section -->
<section class="py-12 sm:py-24 px-4 sm:px-6 bg-white dark:bg-neutral-900" id="contact-form">
    <div class="max-w-[1200px] mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 sm:gap-20 items-center">
            <!-- Left Content -->
            <div>
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-accent-blue/5 text-accent-blue text-xs font-bold uppercase mb-6">
                    <span class="relative flex h-2 w-2">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-accent-blue opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-accent-blue"></span>
                    </span>
                    Disponibilités ouvertes
                </div>
                
                <h2 class="text-3xl sm:text-5xl font-bold mb-6 sm:mb-8 text-primary dark:text-white leading-tight">Planifiez votre consultation</h2>
                
                <p class="text-lg sm:text-xl text-neutral-600 dark:text-neutral-400 mb-8 sm:mb-10 leading-relaxed">
                    Échangez pendant 30 minutes avec un conseiller expert pour analyser votre profil et obtenir un premier avis sur votre éligibilité.
                </p>
                
                <div class="space-y-6 sm:space-y-8">
                    <!-- Feature 1 -->
                    <div class="flex gap-4 sm:gap-6 items-start group">
                        <div class="size-10 sm:size-12 bg-white dark:bg-neutral-800 shadow-md border border-neutral-100 dark:border-neutral-700 rounded-xl flex items-center justify-center shrink-0 group-hover:text-accent-gold transition-colors">
                            <span class="material-symbols-outlined">event_note</span>
                        </div>
                        <div>
                            <p class="font-bold text-lg mb-1">Choix du créneau</p>
                            <p class="text-neutral-500 text-sm">Réponse garantie sous 24h avec une proposition de rendez-vous.</p>
                        </div>
                    </div>
                    
                    <!-- Feature 2 -->
                    <div class="flex gap-4 sm:gap-6 items-start group">
                        <div class="size-10 sm:size-12 bg-white dark:bg-neutral-800 shadow-md border border-neutral-100 dark:border-neutral-700 rounded-xl flex items-center justify-center shrink-0 group-hover:text-accent-gold transition-colors">
                            <span class="material-symbols-outlined">description</span>
                        </div>
                        <div>
                            <p class="font-bold text-lg mb-1">Analyse de profil</p>
                            <p class="text-neutral-500 text-sm">Diagnostic complet de vos chances de réussite basé sur les critères actuels.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Form -->
            <div class="bg-white dark:bg-neutral-800 p-6 sm:p-8 lg:p-10 rounded-[2rem] shadow-[0_30px_60px_-15px_rgba(0,0,0,0.1)] border border-neutral-50 dark:border-neutral-700">
                <form id="migration-contact-form" class="space-y-6">
                    <!-- Name Fields -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label class="text-xs font-bold uppercase text-neutral-500 dark:text-neutral-400 ml-1">Prénom</label>
                            <input type="text" name="first_name" required
                                   class="w-full px-4 sm:px-5 py-3 sm:py-4 rounded-xl border-neutral-100 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 focus:ring-accent-gold focus:border-accent-gold text-sm"
                                   placeholder="Jean">
                        </div>
                        <div class="space-y-2">
                            <label class="text-xs font-bold uppercase text-neutral-500 dark:text-neutral-400 ml-1">Nom</label>
                            <input type="text" name="last_name" required
                                   class="w-full px-4 sm:px-5 py-3 sm:py-4 rounded-xl border-neutral-100 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 focus:ring-accent-gold focus:border-accent-gold text-sm"
                                   placeholder="Dupont">
                        </div>
                    </div>
                    
                    <!-- Email -->
                    <div class="space-y-2">
                        <label class="text-xs font-bold uppercase text-neutral-500 dark:text-neutral-400 ml-1">Email</label>
                        <input type="email" name="email" required
                               class="w-full px-4 sm:px-5 py-3 sm:py-4 rounded-xl border-neutral-100 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 focus:ring-accent-gold focus:border-accent-gold text-sm"
                               placeholder="jean.dupont@exemple.com">
                    </div>
                    
                    <!-- Profession -->
                    <div class="space-y-2">
                        <label class="text-xs font-bold uppercase text-neutral-500 dark:text-neutral-400 ml-1">Votre domaine</label>
                        <select name="profession" required
                                class="w-full px-4 sm:px-5 py-3 sm:py-4 rounded-xl border-neutral-100 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 focus:ring-accent-gold focus:border-accent-gold text-sm appearance-none">
                            <option value="">Sélectionnez votre domaine</option>
                            <option>Tech & Digital</option>
                            <option>Santé & Social</option>
                            <option>Ingénierie & BTP</option>
                            <option>Hôtellerie & Restauration</option>
                            <option>Autre</option>
                        </select>
                    </div>
                    
                    <!-- Current Country -->
                    <div class="space-y-2">
                        <label class="text-xs font-bold uppercase text-neutral-500 dark:text-neutral-400 ml-1">Pays actuel</label>
                        <input type="text" name="current_country" required
                               class="w-full px-4 sm:px-5 py-3 sm:py-4 rounded-xl border-neutral-100 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 focus:ring-accent-gold focus:border-accent-gold text-sm"
                               placeholder="Maroc"
                               value="{{ user_location.country|default:'Maroc' }}">
                    </div>
                    
                    <!-- Target Country -->
                    <div class="space-y-2">
                        <label class="text-xs font-bold uppercase text-neutral-500 dark:text-neutral-400 ml-1">Pays cible</label>
                        <select name="target_country" required
                                class="w-full px-4 sm:px-5 py-3 sm:py-4 rounded-xl border-neutral-100 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 focus:ring-accent-gold focus:border-accent-gold text-sm">
                            <option value="">Sélectionnez un pays</option>
                            <option>France</option>
                            <option>Canada</option>
                            <option>Belgique</option>
                            <option>Suisse</option>
                            <option>Allemagne</option>
                            <option>Autre</option>
                        </select>
                    </div>
                    
                    <!-- Message -->
                    <div class="space-y-2">
                        <label class="text-xs font-bold uppercase text-neutral-500 dark:text-neutral-400 ml-1">Votre projet</label>
                        <textarea name="message" rows="3"
                                  class="w-full px-4 sm:px-5 py-3 sm:py-4 rounded-xl border-neutral-100 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 focus:ring-accent-gold focus:border-accent-gold text-sm resize-none"
                                  placeholder="Décrivez votre projet de migration et vos objectifs professionnels..."></textarea>
                    </div>
                    
                    <!-- Submit Button -->
                    <button type="submit" 
                            class="w-full bg-accent-blue text-white font-bold py-4 rounded-2xl shadow-xl shadow-accent-blue/20 hover:bg-accent-blue/95 transition-all flex items-center justify-center gap-3 group">
                        Réserver mon diagnostic
                        <span class="material-symbols-outlined text-accent-gold group-hover:translate-x-1 transition-transform">arrow_right_alt</span>
                    </button>
                    
                    <p class="text-center text-xs text-neutral-400 leading-relaxed px-4">
                        En soumettant ce formulaire, vous acceptez d'être recontacté dans le cadre de votre projet de migration. Vos données sont protégées (RGPD).
                    </p>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Migration Form Submission
    document.getElementById('migration-contact-form').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const data = {
            full_name: `${formData.get('first_name')} ${formData.get('last_name')}`,
            email: formData.get('email'),
            phone: '', // You might want to add a phone field
            current_country: formData.get('current_country'),
            target_country: formData.get('target_country'),
            profession: formData.get('profession'),
            message: formData.get('message')
        };
        
        try {
            const response = await fetch('{% url "Prolean:migration_services" %}', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': '{{ csrf_token }}'
                },
                body: JSON.stringify(data)
            });
            
            const result = await response.json();
            
            if (result.success) {
                alert(result.message);
                this.reset();
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                alert('Erreur: ' + result.message);
            }
        } catch (error) {
            alert('Une erreur est survenue. Veuillez réessayer.');
        }
    });
</script>
{% endblock %}